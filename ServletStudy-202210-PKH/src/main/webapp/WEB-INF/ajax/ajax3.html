<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>
<body>
	<input type="text" class="phone">
	<input type="text" class="phone">
	<input type="text" class="phone">
	<button type="button" class="submit-button">전송</button>
	
	<script type="text/javascript">
		const submitButton = document.querySelector(".submit-button");
		
		submitButton.onclick = () => {
			const phones = document.querySelectorAll(".phone")
			let phoneNumber = {
					phone1: phones[0].value,
					phone2: phones[1].value,
					phone3: phones[2].value
			};
			
			//let requestData = {
			//		data: JSON.stringify(phoneNumber)
			//} 위아래는 같다.
			//= data: {
			//	jsondata: JSON.stringify(phoneNumber)
			//}
			
			$.ajax({
				async: false,
				type: "post",
				url: "/api/ajax3",
				data: {
					data: JSON.stringify(phoneNumber)
				},
				dataType: "json", 
				//-> 전송시 오브젝트로 파싱을 해줌. JSON.stringify()을 해주지 않아도 된다.
				success: response => {
					console.log(response)
				},
				error: response => {
					alert("데이터 전송 실패!")
				}
			})
		};
		
	</script>

</body>
</html>